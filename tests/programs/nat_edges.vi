

// Compared against the following python script:
//
// ```python
// edges = [0, 1, 2**32 - 2, 2**32 - 1]
// 
// for a0 in edges:
//     for a1 in edges:
//         for a2 in edges:
//             a = a2 << 64 | a1 << 32 | a0
// 
//             for b0 in edges:
//                 if b0 != 0:
//                     print(f"{a}.div_rem_n32({b0}) = ({a // b0}, {a % b0})")
// 
//                 for b1 in edges:
//                     for b2 in edges:
//                         b = b2 << 64 | b1 << 32 | b0
//                         print(f"{a} + {b} = {a + b}")
//                         print(f"{a} - {b} = {max(a - b, 0)}")
//                         print(f"{a} * {b} = {a * b}")
//                         if b != 0:
//                             print(f"{a}.div_rem({b}) = {divmod(a, b)}")
// 
// edges = [0, 2**32 - 1]
// for a0 in edges:
//     for a1 in edges:
//         a = a1 << 32 | a0
//         for b0 in edges:
//             for b1 in edges:
//                 b = b1 << 32 | b0
//                 print(f"{a} & {b} = {a & b}")
//                 print(f"{a} | {b} = {a | b}")
//                 print(f"{a} ^ {b} = {a ^ b}")
// ```

pub fn main(&io: &IO) {
  let edges = [0, 1, N32::maximum - 1, N32::maximum];

  for a0 in edges.iter() {
    for a1 in edges.iter() {
      for a2 in edges.iter() {
        let a = Nat::from_parts([a0, a1, a2]);

        for b0 in edges.iter() {
          if b0 != 0 {
            io.println("{a}.div_rem_n32({b0}) = {a.div_rem_n32(b0).show()}");
          }

          for b1 in edges.iter() {
            for b2 in edges.iter() {
              let b = Nat::from_parts([b0, b1, b2]);
              io.println("{a} + {b} = {a + b}");
              io.println("{a} - {b} = {a - b}");
              io.println("{a} * {b} = {a * b}");
              if b != 0[Nat] {
                io.println("{a}.div_rem({b}) = {a.div_rem(b).show()}");
              }
            }
          }
        }
      }
    }
  }

  let edges = [0, N32::maximum];
  for a0 in edges.iter() {
    for a1 in edges.iter() {
      let a = Nat::from_parts([a0, a1]);
      for b0 in edges.iter() {
        for b1 in edges.iter() {
          let b = Nat::from_parts([b0, b1]);
          io.println("{a} & {b} = {a & b}");
          io.println("{a} | {b} = {a | b}");
          io.println("{a} ^ {b} = {a ^ b}");
        }
      }
    }
  }
}
